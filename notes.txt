boot:
setup-alpine

installed:
qemu-system-x86_64 -m 512 -enable-kvm -nic user,hostfwd=tcp::10022-:22 -hda alpine.qcow2

ssh root@localhost -p 10022
#stuff to run via ssh
apk add openssh postgresql build-base
git clone https://github.com/tpc-h/tpc-h.git
cd tpc-h/2.18.0_rc2/dbgen
cp makefile.suite Makefile
sed -i 's/DATABASE=/DATABASE= ORACLE/' Makefile
sed -i 's/MACHINE =/MACHINE = LINUX/' Makefile
sed -i 's/WORKLOAD =/WORKLOAD = TPCH/' Makefile
make

./dbgen -vf
createdb -U postgres tpch
psql -U postgres tpch -f dss.ddl
for i in `ls *.tbl`; do
  table=${i/.tbl/}
  echo "Loading $table..."
  sed 's/|$//' $i > /tmp/$i
  psql -U postgres tpch -q -c "TRUNCATE $table"
  psql -U postgres tpch -c "\\copy $table FROM '/tmp/$i' CSV DELIMITER '|'"
done
psql -U postgres tpch -c "ANALYZE VERBOSE"

rm -rf q18 && mkdir q18 
for i in $(seq 1 22); do
  touch q18/${i}.sql
done

sed -i '$ d' queries/18.sql > q18/18.sql
#for trailing ; #tac queries/18.sql | sed '2s/;//' | tac > q18/18.sql 
DSS_QUERY=q18 ./qgen | sed 's/day (3)/day/' > finalq18.sql
psql -U postgres tpch < finalq18.sql

difficulties:
-hardware is not cheap or easy to find (eg rasp pi)
-no system dump to replicate
	-finding a distro with kernel 4.1
	-no mention of the db used
	-what is the 18th query? Many different scale factors
